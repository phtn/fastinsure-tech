import { type HTMLAttributes, useMemo, useRef } from "react";
import { FastOutlineFactory } from "./factory";
import type { SVGData, SVGList } from "./types";

const outline: SVGList[] = [
  {
    title: "cap",
    data: {
      pathData: "M12 3.493a59.903 59.903 0 0 1 10.399 5.84",
      title: "Sample SVG",
      titleId: "sample-svg",
      stroke: "currentColor",
      strokeWidth: 2,
    },
  },
  {
    title: "f",
    data: {
      pathData: "M 2,2 H 16 V 8 H 2 Z M 2,10 H 10 V 16 H 2 Z",
      title: "F",
      titleId: "f-logo-svg",
      stroke: "transparent",
      strokeWidth: 0,
      fill: "currentColor",
      strokeLinecap: "inherit",
      strokeLinejoin: "inherit",
      rx: 2.5,
      ry: 2.5,
    },
  },
  {
    title: "sqc",
    data: {
      pathData: "M12 3c7.2 0 9 1.8 9 9s-1.8 9-9 9-9-1.8-9-9 1.8-9 9-9",
    },
  },
  {
    title: "macusr",
    data: {
      pathData:
        "M5.9765625,11.953125 C6.79296875,11.953125 7.56152344,11.796875 8.28222656,11.484375 C9.00292969,11.171875 9.63867188,10.7402344 10.1894531,10.1894531 C10.7402344,9.63867188 11.171875,9.00292969 11.484375,8.28222656 C11.796875,7.56152344 11.953125,6.79296875 11.953125,5.9765625 C11.953125,5.16015625 11.796875,4.39160156 11.484375,3.67089844 C11.171875,2.95019531 10.7402344,2.31445312 10.1894531,1.76367188 C9.63867188,1.21289062 9.00195312,0.78125 8.27929688,0.46875 C7.55664062,0.15625 6.78710938,0 5.97070312,0 C5.15429688,0 4.38574219,0.15625 3.66503906,0.46875 C2.94433594,0.78125 2.30957031,1.21289062 1.76074219,1.76367188 C1.21191406,2.31445312 0.78125,2.95019531 0.46875,3.67089844 C0.15625,4.39160156 0,5.16015625 0,5.9765625 C0,6.79296875 0.15625,7.56152344 0.46875,8.28222656 C0.78125,9.00292969 1.21289062,9.63867188 1.76367188,10.1894531 C2.31445312,10.7402344 2.95019531,11.171875 3.67089844,11.484375 C4.39160156,11.796875 5.16015625,11.953125 5.9765625,11.953125 Z M5.9765625,10.9570312 C5.28515625,10.9570312 4.63867188,10.828125 4.03710938,10.5703125 C3.43554688,10.3125 2.90722656,9.95605469 2.45214844,9.50097656 C1.99707031,9.04589844 1.64160156,8.51757812 1.38574219,7.91601562 C1.12988281,7.31445312 1.00195312,6.66796875 1.00195312,5.9765625 C1.00195312,5.28515625 1.12988281,4.63867188 1.38574219,4.03710938 C1.64160156,3.43554688 1.99609375,2.90625 2.44921875,2.44921875 C2.90234375,1.9921875 3.4296875,1.63574219 4.03125,1.37988281 C4.6328125,1.12402344 5.27929688,0.99609375 5.97070312,0.99609375 C6.66210938,0.99609375 7.30859375,1.12402344 7.91015625,1.37988281 C8.51171875,1.63574219 9.04101562,1.9921875 9.49804688,2.44921875 C9.95507812,2.90625 10.3125,3.43554688 10.5703125,4.03710938 C10.828125,4.63867188 10.9570312,5.28515625 10.9570312,5.9765625 C10.9570312,6.66796875 10.8291016,7.31445312 10.5732422,7.91601562 C10.3173828,8.51757812 9.96191406,9.04589844 9.50683594,9.50097656 C9.05175781,9.95605469 8.52246094,10.3125 7.91894531,10.5703125 C7.31542969,10.828125 6.66796875,10.9570312 5.9765625,10.9570312 Z M9.984375,9.83789062 L9.96679688,9.7734375 C9.86914062,9.484375 9.64160156,9.20117188 9.28417969,8.92382812 C8.92675781,8.64648438 8.46582031,8.41796875 7.90136719,8.23828125 C7.33691406,8.05859375 6.6953125,7.96875 5.9765625,7.96875 C5.26171875,7.96875 4.62207031,8.05859375 4.05761719,8.23828125 C3.49316406,8.41796875 3.03125,8.64648438 2.671875,8.92382812 C2.3125,9.20117188 2.08398438,9.48242188 1.98632812,9.76757812 L1.96875,9.83789062 C2.3203125,10.1855469 2.73632812,10.4824219 3.21679688,10.7285156 C3.69726562,10.9746094 4.18261719,11.1630859 4.67285156,11.2939453 C5.16308594,11.4248047 5.59765625,11.4902344 5.9765625,11.4902344 C6.359375,11.4902344 6.79492188,11.4248047 7.28320312,11.2939453 C7.77148438,11.1630859 8.25488281,10.9746094 8.73339844,10.7285156 C9.21191406,10.4824219 9.62890625,10.1855469 9.984375,9.83789062 Z M5.9765625,6.97265625 C6.3515625,6.9765625 6.69140625,6.88183594 6.99609375,6.68847656 C7.30078125,6.49511719 7.54199219,6.23046875 7.71972656,5.89453125 C7.89746094,5.55859375 7.98632812,5.18164062 7.98632812,4.76367188 C7.98632812,4.36914062 7.89648438,4.0078125 7.71679688,3.6796875 C7.53710938,3.3515625 7.29589844,3.08886719 6.99316406,2.89160156 C6.69042969,2.69433594 6.3515625,2.59570312 5.9765625,2.59570312 C5.6015625,2.59570312 5.26171875,2.69433594 4.95703125,2.89160156 C4.65234375,3.08886719 4.41015625,3.3515625 4.23046875,3.6796875 C4.05078125,4.0078125 3.96289063,4.36914062 3.96679688,4.76367188 C3.97070313,5.18164062 4.06152344,5.55664062 4.23925781,5.88867188 C4.41699219,6.22070312 4.65722656,6.48339844 4.95996094,6.67675781 C5.26269531,6.87011719 5.6015625,6.96875 5.9765625,6.97265625 Z",
    },
  },
];
const default_data: SVGData = {
  pathData: "M12 3.493a59.903 59.903 0 0 1 10.399 5.84",
  title: "Default SVG",
  titleId: "default-svg",
  stroke: "currentColor",
  strokeWidth: 1.5,
};

export const FastOut = (
  data: SVGData | undefined,
  attributes: HTMLAttributes<HTMLOrSVGElement>,
) => {
  const svgRef = useRef<SVGSVGElement>(null);
  const props = useMemo(() => data ?? default_data, [data]);
  return (
    <div>
      <FastOutlineFactory
        className=""
        ref={svgRef}
        {...props}
        {...attributes}
      />
    </div>
  );
};

type Title<T extends SVGList[]> = T[number]["title"];

const finder = <K extends typeof outline>(title: Title<K>) =>
  outline.find((i) => i.title === title)?.data;

export const Cap = (props: HTMLAttributes<HTMLOrSVGElement>) =>
  FastOut(finder("cap"), props);

export const F = (props: HTMLAttributes<HTMLOrSVGElement>) =>
  FastOut(finder("f"), props);

export const SqcIcon = (props: HTMLAttributes<HTMLOrSVGElement>) =>
  FastOut(finder("sqc"), props);

export const MacUsr = (props: HTMLAttributes<HTMLOrSVGElement>) =>
  FastOut(finder("macusr"), props);

<svg
  xmlns="http://www.w3.org/2000/svg"
  xmlnsXlink="http://www.w3.org/1999/xlink"
  width="12px"
  height="13px"
  viewBox="0 0 12 13"
  version="1.1"
  id="managing-accounts"
>
  <title>􀉭</title>
  <g
    id="Design-Spec"
    stroke="none"
    stroke-width="1"
    fill="none"
    fill-rule="evenodd"
  >
    <g
      id="Taxonomy-and-Icons-Filled---04/28/22"
      transform="translate(-233.000000, -370.000000)"
      fill="#86868B"
      fill-rule="nonzero"
    >
      <g id="􀉭" transform="translate(233.023438, 370.792969)">
        <path d="" id="Shape" />
      </g>
    </g>
  </g>
</svg>;
